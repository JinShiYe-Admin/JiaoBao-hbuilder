<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../css/mui.min.css" rel="stylesheet" />
		<link href="../../css/utils/common.css" rel="stylesheet" />
		<link href="../../css/iconfont/iconfont.css" rel="stylesheet" />
		<link href="../../css/utils/textarea.css"></link>
		<script src="../../js/mui.min.js"></script>
		<script src="../../js/app/FAQ/FAQDetail.js"></script>
		<script src="../../js/utils/textarea.js"></script>
	</head>

	<body>
		<div class="mui-content">
		    
		
			<!--下拉刷新容器-->
			<div id="refreshContainer" class=" mui-scroll-wrapper">
			  <div class="mui-scroll">
			  	<div id="">
			  		<!--问题-->
				  	<div >
				  		<div style="text-align: center;padding: 10px;background-color: gray;">
				  		<h4 class="common-color-white">#职业规划#</h4>
				  		<h6 class="common-color-white">对自己没有规划怎么办？每一份工作都坚持不到半年,怎么才能坚持下去</h6>
				  	</div>
				  	<div class="background-white" style="height: 44px;padding: 7px;">
				  		<h6 class="mui-pull-left"><span class="mui-icon mui-icon-chatboxes"></span>5条回答</h6>
				  		<h6 id="hotOrNew" class="mui-pull-right"><span style="color: blue;">最热</span>/最新</h6>
				  	</div>
				    <!--数据列表-->
				    <ul id="FAQAnswerList" class="mui-table-view mui-table-view-chevron" style="margin-bottom: 45px;">
				    
				    </ul>
			  	</div>
			  	
			  </div>
			</div>
		
			<footer class="mui-content">
				<div class="mui-bar mui-bar-tab">
					<textarea id="textarea" placeholder="回复内容" style="height: 44px; width: 60%;margin-top: 10px; margin-left: 3.33333333%;"></textarea> 
					<button type="button" class="mui-btn mui-btn-primary" style="width: 30%;margin: 5px;margin-left: 3.3333333%;position: absolute;bottom: 12px;">我来回答</button>
				</div>
			</footer>
		</div>
		<script> 
		//目标dom
        var text = document.getElementById("textarea");
        //自适应的调用
        autoTextarea(text,0,120);// 调用
    </script>
	</body>
	
	<script>
		mui.init({
				pullRefresh: {
					container: '#refreshContainer',
					down: {
						callback: pulldownRefresh
					},
					up: {
						contentrefresh: '正在加载...',
						callback: pullupRefresh
					}
				}
			});
			/**
			 * 下拉刷新具体业务实现
			 */
			function pulldownRefresh() {
				setTimeout(function() {
					var item = document.getElementById('FAQAnswerList')
					console.log(item.id)
					//清除所有数据
					while(item.firstChild!=null) {
						item.removeChild(item.firstChild)
					}
					//加载新控件
					var cells = document.body.querySelectorAll('.mui-table-view-cell');
					createFAQAnswerList(item,createFAQAnswerData(5))
					mui('#refreshContainer').pullRefresh().endPulldownToRefresh(); //refresh completed
				}, 10);
			}
			var count = 0;
			/**
			 * 上拉加载具体业务实现
			 */
			function pullupRefresh() {
				setTimeout(function() {
					mui('#refreshContainer').pullRefresh().endPullupToRefresh((++count > 2)); //参数为true代表没有更多数据了。
					var item = document.getElementById('FAQAnswerList')
					var cells = document.body.querySelectorAll('.mui-table-view-cell');
					createFAQAnswerList(item,createFAQAnswerData(10))
					
				}, 1500);
			}
		mui.plusReady(
			function(){
				//获取需绑定控件
				var item=document.getElementById('FAQAnswerList')
				//创建列表
				createFAQAnswerList(item,createFAQAnswerData(15))
			}
		
		)
	</script>
</html>